---
title: "Individual participant data meta-analysis. When? Why? How? A scoping review"
author: "Michail Belias"
date: "May 13, 2019"
output:
  word_document: default
  pdf_document: default
  html_document: default
bibliography: Style and bibliography/bibliography2.bib
---

# Abstract (200 words)

## Background
Individual participant data(IPD) meta-analysis(MA) of randomised clinical trials (RCTs) is considered the gold standard for evidence based inference. It is well established that IPD-MA offers great advantages over both aggregate MA and single RCTs. Nevertheless, it is unclear which advantages are mostly addressed when IPD-MAs are conducted **(for instance subgroup analysis, overall treatment effect pooling, modeling etc)**.  Furthermore, it is unclear which statistical approaches are preferred, how they are the results presented, which medical fields are involved and to what extent guidelines are flowed.... 

## Objective
Our objective is to conduct a scoping review of existing IPD-MA methods, and summarise their properties. Furthermore, we aim to inform when and how IPD-MA are performed, whether state-of the art methods are used and if they are clearly described.  


*We can propose for a meta-data ID *

## Methods 

We searched MEDLINE and the Cochrane Library for studies since 01/01/2010 to 01/04/2019 using the "individual participant data meta-analysis" OR "IPD" OR "individual participants data meta-analysis" query   **(we may put more  databases)**. 

## Results

Our search resulted in 4137 articles. We excluded 2407 IPD-MAs of non-RCTs. We included only IPD-MAs with at least one treatment comparison. A short decline in the published IPD-MAs in 2018 has been showed. The two most predominant medical fields were Cancer *(16%)*, Cardiovascular diseases *(16%)* and Mental health *(10%)*. Most of the IPD-MAs had as a primary goal to pool an overall treatment effect and only few to investigate for subgroups. An increasing trend in one-stage multi-level mixed effects frequency by year has been showed. Nevertheless, more information should be provided in both the abstract and the article over the statistical approaches followed.  *For instance, some report a one-stage mixed effects model has been used to account for within trial clustering, but they don't provide more info such as (stratified or random effects intercept is the interaction term random effects or fixed? etc)*

## Conclusions

Description of the goal and statistical approach performed is still unclear. Mixed effects approaches are increasing by year. Subgroups analysis is not the primary goal of IPD-MAs .





# Figures and tables

```{r}
library(readxl)
library(ggpubr)

IPD_MA =  read_xlsx(path = "IPD-MA Cochrane papers/IPD-MAs in General.xlsx", sheet = "Pub med IPD-MA articles")
  
gghistogram(data = IPD_MA, y = "..count..",x = "Year", breaks = 10, title = "Individual participant data meta-analyses per year") + scale_x_continuous(breaks = seq(2010, 2019,by = 1)) + theme(plot.title = element_text(hjust = 0.5))



```

\newpage

# Introduction

  Meta-analysis (MA) is a statistical method that involves combining information from multiple studies. While initially, meta-analyses were limited in aggregated data (AD) in the early 1990s individual participant data meta-analysis (IPD-MA) was introduced [@CHALMERS_1993]. In IPD-MA the participant level information is available and evidence from multiple studies can be analysed centrally. Collecting the IPD may be a difficult and time consuming task but nonetheless IPD-MA is considered the gold standard in evidence synthesis [@Stewart_1993 ; @Stewart_1995 ;@Stewart_2002] and offers great opportunities [@van_Walraven_2010]. Besides when investigating overall treatment effects where AD-MA and IPD-MA are mathematically equal, IPD-MA offers (1) the possibility to standardize subgroup definitions and outcomes across studies, (2) higher validity and credibility of subgroup findings, (3) increased flexibility to search for subgroups based on combinations of patient and/or disease characteristics (4) the possibility to avoid ecological BIAS and (5) model more complicated than linear functional forms. 



**Reporting issues**
  An important benefit of IPD-MA is the avoidance of ecological bias. This can be accomplished in both one or two stage approaches. In one-stage IPD-MA, all IPD from every trial are analysed simultaneously whilst accounting for the clustering of participants within studies, typically by applying either mixed-effects or random-effects models. In the first case some terms are fixed while in the second we assume that all terms vary per trial. Furthremore, clustering may be adjusted using either stratified terms or random effects terms, the parameters may be estimated with maximum likelihood or restricted maximum likelihood Legha and their confidence intervals may be estimated by using approximations either based on a z-distribution or t‚Äêdistribution. Even though no important differences are expected [@Legha_2018], the properties should be thoroughly described in the methods section. On the other hand two-stage approaches initially calculate a parameter of choice per trial and subsequently pool them using typical meta-analytical methods. These parameters may be either an estimate or a function. In the first case, along with the type of statistical approach used in the first stage, important properties of the meta-analysis should be reported such as: 1) heterogeneity measures ( $I^2$ , Cochran's Q $\tau^2$) 2) Which $\tau$ estimator has been used 3) provide a forest plot (if applicable) and 4) estimate prediction interval along with the confidence interval [@IntHout_2016]. 


**Subgroup Analysis**


Simmnond and Higgins [@Simmonds_2007] mathematically proved that one-stage IPD-MA are always more powerful than meta-analysis of interaction terms and meta-regression. Nevertheless, the assumptions made were unrealistic. Fisher et al. [@Fisher_2011] critically reviewed one-stage IPD-MA of them on how to detect patient level effect modification in IPD-MA. They concluded that one-stage or mixed-effects modelling allows for more complex analysis, but is more difficult to perform than pooling within-trial interaction terms.  Subsequently, Hua et al. [@Hua_2016] suggested that these mixed effects models should also centre the effect modifiers to their mean, in order to separate across and within trial information. 



  
  Subsequently, these effects are either modelled over the levels of the potential effect modifier (meta-regression) or pooled using standard meta-analysis leadind to per-subgroup meta-analysis (PS-MA) and meta-analysis of interaction terms (MA-IT). 






*Modeling functional forms*
  On the other hand when the goal of our research is to model a non-linear functional relationship between a continuous covariate and the outcome Sauerbrei and Royston [@Sauerbrei_2011] suggested to use a two stage approach involving fitting per trial a fractional polynomial and pooling their estimates through a point-wise weighted meta-analytical process. Subsequently they extended these non-linear associations to include interactions [@royston_interaction_2013]. 
  
  
  
  Finally, when reporting results [@Stewart_2015] 
  
  
  Wallach et al. [@Wallach_2017] performed a
  
  
 
  Nevertheless, it is still unclear which are the goals for IPD-MA, how are they described and how are the statistical analyses performed.
  
  1) How are the IPD-MA reported?
  2) 
  
  
  
# Methods 


```{r}
library(readxl)
library(knitr)
library(ggpubr)
IPD_MA_Cochrane1 <- read_excel("IPD-MA Cochrane papers/IPD-MA_Cochrane.xlsx",  sheet = "Meta-analysis size")
IPD_MA_Cochrane1 <- as.data.frame(IPD_MA_Cochrane1)
IPD_MA_Cochrane1 <- as.data.frame(IPD_MA_Cochrane1[IPD_MA_Cochrane1$Remarks == "RCTs",])
IPD_MA_Cochrane2 <- read_excel("IPD-MA Cochrane papers/IPD-MA_Cochrane.xlsx",  sheet = "Medical fields")
kable(IPD_MA_Cochrane2[,3:4], caption = "Figure 1")
kable(IPD_MA_Cochrane2[,1:2], caption = "Figure 2")

```
  


```{r}
if(!require("DiagrammeR")) install.packages("DiagrammeR")
grViz("digraph flowchart {
      # node definitions with substituted label text
      node [fontname = Helvetica, shape = rectangle]        
      tab1 [label = '@@1']
      tab2 [label = '@@2']
      tab3 [label = '@@3']
      tab4 [label = '@@4']
      tab5 [label = '@@5']
      tab6 [label = '@@6']
      tab7 [label = '@@7']
      tab8 [label = '@@8']

      # edge definitions with the node IDs
      tab1 -> tab2 
      tab1 -> tab3
      tab3 -> tab4 
      tab3-> tab5 
      tab3-> tab6       
      tab3-> tab7 
      tab3-> tab8 ;
      }

      [1]: 'Studies identified through searching in cochrane IPD-MA methods group [202]'
      [2]: '37 Excluded studies'
      [3]: 'Studies included [165]'
      [4]: '95 Cancer'
      [5]: '16 Neurological'
      [6]: '7 Cardiovascular'
      [7]: '6 Cardiovascular'
      [8]: '41 Others'
      ")
```

```{r}

IPD_MA_Cochrane1[,1:3] =  apply(IPD_MA_Cochrane1[,1:3], 2, as.numeric)


gghistogram(data = IPD_MA_Cochrane1, x =  "Studies", y = "..count..", bins = 30, ggtheme = theme_minimal(), title = "Number of trials included per meta-analysis", add = "median", xlab = "Trials per Meta-analysis" )  + annotate(geom="text", x=15, y=20, label= paste("median:", median(IPD_MA_Cochrane1$Studies)), color="red") + theme(plot.title = element_text(hjust = 0.5,size = 18, face = "bold.italic"))

gghistogram(data = IPD_MA_Cochrane1, x =  "Participants",  y = "..count..", bins = 30, ggtheme = theme_minimal(), title = "Number of participants included per meta-analysis", add = "median", xlab = "Trials per Meta-analysis" )  + annotate(geom="text", x=3000, y=20, label= paste("median:", median(IPD_MA_Cochrane1$Participants, na.rm = T)), color="red") + theme(plot.title = element_text(hjust = 0.5,size = 18, face = "bold.italic"))


```



